---
# @var stalwart_system_user
# @var stalwart_system_user:type: string
# @var stalwart_system_user:description: >
# System user name to create
stalwart_system_user: "stalwart"

# @var stalwart_system_group
# @var stalwart_system_group:type: string
# @var stalwart_system_group:description: >
# System group name to create
stalwart_system_group: "stalwart"

# @var stalwart_component
# @var stalwart_component:type: string
# @var stalwart_component:description: >
# Stalwart component to install : stalwart / stalwart-foundationdb
stalwart_component: "stalwart" # stalwart-foundationdb

# @var stalwart_version
# @var stalwart_version:type: string
# @var stalwart_version:description: >
# Stalwart version to install
stalwart_version: 0.15.3

# @var stalwart_service_state
# @var stalwart_service_state:type: string
# @var stalwart_service_state:description: >
# Stalwart service desired state
stalwart_service_state: "started"

# @var stalwart_service_enabled
# @var stalwart_service_enabled:type: boolean
# @var stalwart_service_enabled:description: >
# Enable Stalwart service
stalwart_service_enabled: true

# @var stalwart_server_max_connection
# @var stalwart_server_max_connection:type: int
# @var stalwart_server_max_connection:description: >
# Stalwart server max connections
stalwart_server_max_connections: 8192

# @var stalwart_storage_data
# @var stalwart_storage_data:type: string
# @var stalwart_storage_data:description: >
# Stalwart data storage name
stalwart_storage_data: "rocksdb"

# @var stalwart_storage_fts
# @var stalwart_storage_fts:type: string
# @var stalwart_storage_fts:description: >
# Stalwart full-text store storage name
stalwart_storage_fts: "rocksdb"

# @var stalwart_storage_blob
# @var stalwart_storage_blob:type: string
# @var stalwart_storage_blob:description: >
# Stalwart blob storage name
stalwart_storage_blob: "rocksdb"

# @var stalwart_storage_lookup
# @var stalwart_storage_lookup:type: string
# @var stalwart_storage_lookup:description: >
# Stalwart lookup storage name
stalwart_storage_lookup: "rocksdb"

# @var stalwart_fallback_admin_login
# @var stalwart_fallback_admin_login:type: string
# @var stalwart_fallback_admin_login:description: >
# Stalwart admin login
stalwart_fallback_admin_login: "admin"

# @var stalwart_fallback_admin_password
# @var stalwart_fallback_admin_password:type: string
# @var stalwart_fallback_admin_password:description: >
# Stalwart admin password
stalwart_fallback_admin_password: "changeme!"

# @var stalwart_server_listeners
# @var stalwart_server_listeners:type: list
# @var stalwart_server_listeners:description: >
# Stalwart listeners : all enabled per default, remove unwanted
stalwart_server_listeners:
  - name: "smtp"
    bind: "[::]:25"
    protocol: "smtp"
  - name: "submission"
    bind: "[::]:587"
    protocol: "smtp"
  - name: "submissions"
    bind: "[::]:465"
    protocol: "smtp"
    options:
      tls.implicit: true
  - name: "imap"
    bind: "[::]:143"
    protocol: "imap"
  - name: "imaptls"
    bind: "[::]:993"
    protocol: "imap"
    options:
      tls.implicit: true
  - name: "pop3"
    bind: "[::]:110"
    protocol: "pop3"
  - name: "pop3s"
    bind: "[::]:995"
    protocol: "pop3"
    options:
      tls.implicit: true
  - name: "sieve"
    bind: "[::]:4190"
    protocol: "managesieve"
  - name: "https"
    protocol: "http"
    bind: "[::]:443"
    options:
      tls.implicit: true
  - name: "http"
    protocol: "http"
    bind: "[::]:8080"

# @var stalwart_stores
# @var stalwart_stores:type: list
# @var stalwart_stores:description: >
# Stalwart stores : must contain match to data, fts, blob, lookup stores
stalwart_stores:
  - name: "rocksdb"
    type: "rocksdb"
    options:
      path: "{{ stalwart_data_path }}"
      compression: "lz4"
      write-buffer-size: 134217728
      min-blob-size: 16834
      pool.worker: 10

# @var stalwart_directory_type
# @var stalwart_directory_type:type: string
# @var stalwart_directory_type:description: >
# Stalwart directory type
stalwart_directory_type: "internal"

# @var stalwart_directory_type
# @var stalwart_directory_type:type: dict
# @var stalwart_directory_type:description: >
# Stalwart directory options
stalwart_directory_options:
  store: "rocksdb"

# @var stalwart_tracers
# @var stalwart_tracers:type: list
# @var stalwart_tracers:description: >
# Stalwart tracers
stalwart_tracers:
  - type: "stdout"
    options:
      level: "info"
      ansi: false
      enable: true
  - type: "log"
    options:
      level: "info"
      path: "{{ stalwart_logs_path }}"
      prefix: "stalwart.log"
      rotate: "daily"
      ansi: false
      enable: true

# @var stalwart_additionnal_configs
# @var stalwart_additionnal_configs:type: list
# @var stalwart_additionnal_configs:description: >
# Stalwart additionnal configuration
# @var stalwart_additionnal_configs:example: >
# stalwart_additionnal_configs:
#   - name: "directory.imap.pool"
#     options:
#       max-connections: 10
#   - name: "directory.imap.pool.timeout"
#     options:
#       create: "30s"
#       wait: "30s"
#       recycle: "30s"
stalwart_additionnal_configs: []
